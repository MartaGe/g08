<!DOCTYPE html>
<html lang=de>
    <head>
        <title>Zu Fuß in Wien interaktive Karte</title>
        <!-- <link rel="stylesheet" href="style/map.css"> -->
        <link rel="stylesheet" href="thirdparty/leaflet/leaflet.css">
        <script src="thirdparty/leaflet/leaflet.js"></script>
        <script src="thirdparty/jquery-3.6.0.min.js"></script>
    </head>

    <body>
        <h1>Interaktive Karte</h1>
        <p>Drücke auf die <b>Markierungen</b> auf der Karte um mehr Informationen zu
            Problemlagen auf Gehsteigen und Gehwegen zu bekommen</p>
        <br>
        <!-- <div id="kartencontent" class="content"> -->
        <div id='karte1' style="height:600px; width:600px;"> </div>
         <!-- </div> Die Idee hinter dieser div Klasse wäre die Grundlage für ein CSS zu schaffen-->

    <script>
        var map= L.map('karte1').setView([48.19722537806256, 16.37015461921692], 15);
        
         // basemaps

         var OSM_norm = L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png',
                {attribution:'©<ahref="http://osm.org/copyright">OpenStreetMap</a>contributors'});
        
        var OpenTopoMap = L.tileLayer('https://{s}.tile.opentopomap.org/{z}/{x}/{y}.png', {
	         attribution: 'Map data: &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors, <a href="http://viewfinderpanoramas.org">SRTM</a> | Map style: &copy; <a href="https://opentopomap.org">OpenTopoMap</a> (<a href="https://creativecommons.org/licenses/by-sa/3.0/">CC-BY-SA</a>)'
                });

        var baseMaps = {
            "Open Street Map":OSM_norm,
            "OpenTopoMap": OpenTopoMap
        };

        // Marker inkl. Gruppierung - irgendwas funktioniert noch nicht
        var mark1 = L.marker([48.2,16.37]).bindPopup(`PROBLEM1`);

        var mark2 = L.marker([48.22,16.38]).bindPopup(`PROBLEM2`);

        var places = L.layerGroup(mark1,mark2);

        // GeoJSON Layer

        var myGeoJsonLayer= L.geoJSON().addTo(map);
        $.getJSON('data/linie.geojson',function(result){
                myGeoJsonLayer.addData(result);
                myGeoJsonLayer.bindPopup('Wichtiger Weg');
                myGeoJsonLayer.bindTooltip('Das ist Tooltip');
            });

       
    
        // layer Ordnung und so

        var overlayMaps = {
            "Orte": places,
            "Route": myGeoJsonLayer
        };
    
    L.control.layers(baseMaps,overlayMaps).addTo(map);

     </script> 

    </body>

</html>
